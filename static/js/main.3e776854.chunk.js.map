{"version":3,"sources":["components/NoWalletDetected.js","components/NetworkErrorMessage.js","helper.js","components/WalletStatus.js","components/HelperNFT.js","components/Login.js","components/Villain.js","components/RecruitMember.js","components/Events.js","components/BondingCurve.js","components/Dapp.js","components/AttributePage.js","components/Villains.js","fonts/DotBoundary/dotboundary-fixed.otf","fonts/PressStart2P.ttf","index.js"],"names":["NoWalletDetected","className","href","target","rel","NetworkErrorMessage","message","dismiss","role","type","data-dismiss","aria-label","onClick","aria-hidden","minMaxRGB","val","Math","min","max","get_rgb","rgb","adj","r","g","b","ret","draw_villain","ctx","villain","pixelData","factor","j","length","attr","numBlessed","numPunished","pixels","name","z","useMap","y","parseInt","x","fillStyle","fillRect","short_addr","addr","num","slice","update_cache","attrName","prevState","statusData","WalletStatus","address","connectWallet","networkError","blockNumber","currentBlock","cachedBlock","Container","Row","Col","style","flex","OverlayTrigger","placement","overlay","Tooltip","fontSize","HelperNFT","awardItem","data","textAlign","width","padding","background","borderColor","value","event","classes","keyField","rows","columns","tableLayout","color","rowStyle","row","rowIndex","fontWeight","Login","loginFunc","useState","password","setPassword","margin","onSubmit","required","onChange","ATTR_TABLE_COLUMNS","Villain","villainData","userAddress","tribulate","valhalla","pricing","categories","vId","useParams","canvasRendered","setCanvasRendered","canvasRef","useRef","useEffect","canvas","current","getContext","drawCanvas","mainStyle","i","cat","s","split","push","console","log","height","ref","RecruitMember","recruitMember","isApproved","getApproval","defaultValue","approved","setApproved","sAddr","sId","state","setState","inputChanged","checkApproval","ethers","utils","isAddress","then","result","constants","AddressZero","recruitText","approvalText","to","disabled","opacity","Events","radioValue","setRadioValue","showData","ButtonGroup","toggle","paddingLeft","map","radio","idx","ToggleButton","variant","checked","e","currentTarget","BondingCurve","curves","labels","recruit","numBVAlive","datasets","rp","label","fill","vp","options","animation","duration","tooltips","enabled","hover","mode","plugins","title","display","text","scales","ATTRIBUTE_CATEGORIES","require","Object","keys","contractAddresses","AttributePage","props","initialState","attrFilter","init","key","this","React","createRef","xFactor","yFactor","invert","includes","draw","els","category","remaining","initial","minWidth","maxWidth","marginBottom","marginRight","attrData","Card","Body","Title","replace","Text","CardDeck","flexWrap","borderRadius","onChangeFilter","bind","concat","categoriesToAttributes","renderAttributeGrid","Component","Villains","force","villains","v","isPlunder","sacrificeAddr","id","sacrificeId","titleDiv","owner","renderVillainGrid","PASSWORD","CHAIN_ID_MAP","1","3","DYNAMIC_CACHE_VARIABLES","VALHALLA_COLUMNS","RECRUITS_COLUMNS","TRIBULATIONS_COLUMNS","HELPERMINTS_COLUMNS","attributesToCategories","Dapp","localStorage","getItem","clear","setItem","undefined","cachedPixelData","JSON","parse","isAuthenticated","storedPwd","bcrypt","compareSync","tokenData","selectedAddress","balance","txBeingSent","transactionError","existingVillains","userVillains","events","valhallas","recruits","tribulations","helperMints","authenticated","varName","cachedVal","cachedBlockNumber","document","body","window","ethereum","on","networkId","_connectWallet","pwd","basename","fontFamily","Navbar","expand","Brand","Image","src","Toggle","aria-controls","Collapse","Nav","Link","as","_dismissNetworkError","path","_awardItem","_recruitMember","nftContractAddr","_isApproved","_getApproval","exact","children","memberId","_tribulate","minAmt","_valhalla","position","_authenticate","_stopPollingData","contractArtifact","Contract","abi","_provider","getSigner","a","request","method","_checkNetwork","providers","Web3Provider","_helperContracts","_getHelperContracts","_setupContractData","_bvContract","makeContract","BitVillainsArtifact","_initialize","tx","_getPixelData","from","tokenId","pricePaid","nextPrintPrice","nextBurnPrice","membersAlive","reserve","eventKey","toShort","getAddress","formatEther","toString","_memberToRecruitedMap","priceReceived","nextRecruitPrice","nextValhallaPrice","ownerShort","who","isPunishment","whoShort","stringify","_updateDynamicData","_updateDynamicDataInterval","setInterval","MILLISECONDS_IN_SECOND","newAddress","_resetState","_intializeEthers","_token","tokenContractAddress","Token","TokenArtifact","queryFilter","filters","Transfer","eventResults","args","MemberRecruited","MemberToValhalla","Tribulation","_pollDataInterval","_updateBalance","clearInterval","symbol","balanceOf","helperContracts","BVTest721Artifact","BVTest1155Artifact","attrContracts","contract","AttributeArtifact","_attrContracts","attrManContracts","AttributeManagerArtifact","_attrManContracts","getPixels","getPixelMap","attrs","m_attrs","m_sizes","size","m_sizes_original","oSize","numVillains","getMemberAttributes","error","m_attrMap","attrMap","m_sacrificeMap","getValhallaPrice","getPunishedBlessedPrice","tp","getBlockNumber","ev","nftContract","ERC721Artifact","getApproved","_dismissTransactionError","_sendTx","approve","recruitMemberWith721","parseEther","func","hash","toast","success","wait","receipt","status","Error","code","networkVersion","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3e776854.chunk.js","sourcesContent":["import React from \"react\";\n\nexport function NoWalletDetected() {\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-6 p-4 text-center\">\n          <p>\n            No Ethereum wallet was detected. <br />\n            Please install{\" \"}\n            <a\n              href=\"http://metamask.io\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MetaMask\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport function NetworkErrorMessage({ message, dismiss }) {\n  return (\n    <div className=\"alert alert-danger\" role=\"alert\">\n      {message}\n      <button\n        type=\"button\"\n        className=\"close\"\n        data-dismiss=\"alert\"\n        aria-label=\"Close\"\n        onClick={dismiss}\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n  );\n}\n","function minMaxRGB(val){\n    return Math.min(Math.max(0, val), 255);\n}\n\nexport function get_rgb(rgb, adj=0){\n    const r = (rgb>>16)&0x0ff;\n    const g = (rgb>>8)&0x0ff;\n    const b = (rgb)&0x0ff;\n    const ret = [minMaxRGB(r+adj), minMaxRGB(g+adj), minMaxRGB(b+adj)]\n    return ret;\n}\n\nexport function draw_villain(ctx, villain, pixelData, factor=5){\n    let size = 16;\n    let w = size * factor;\n    let h = size * factor;\n    for (let j = 0;j< villain['attrs'].length; j++){\n        const attr = villain['attrs'][j];\n        const numBlessed = villain['numBlessed'];\n        const numPunished = villain['numPunished'];\n        const adj = numBlessed - numPunished -1;\n        let pixels = pixelData[attr.name].pixels;\n        for (var z = 0;z < pixels.length; z++)\n        {\n            if(!pixelData[attr.name].useMap[z])\n                continue;\n            var y = parseInt(z/16) * factor;\n            var x = z % 16 * factor;\n            let rgb = get_rgb(pixels[z], adj);\n            ctx.fillStyle = `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`;\n            ctx.fillRect(x,y, factor, factor);\n        }\n    }\n\n\n}\n\nexport function short_addr(addr, num=6){\n    return addr.slice(0, num) + \"...\" + addr.slice(-4);\n}\n\nexport function update_cache(attrName, val, prevState){\n    const statusData = {...prevState.statusData};\n    statusData[attrName] = val;\n    return {statusData};\n}\n","import React from \"react\";\nimport {Container, Row, Col} from 'react-bootstrap';\nimport { NetworkErrorMessage } from \"./NetworkErrorMessage\";\nimport {short_addr} from \"../helper.js\";\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\nimport './Dapp.css';\n\nexport function WalletStatus({ address, statusData, connectWallet, networkError, dismiss }) {\n  let val = (\n          <div>\n          <p>Please connect to your wallet.</p>\n          <button\n            className=\"btn btn-warning\"\n            type=\"button\"\n            onClick={connectWallet}\n          >\n            Connect Wallet\n          </button> \n          </div>\n  );\n  const blockNumber = statusData.currentBlock || 'loading';\n  const cachedBlock = statusData.cachedBlock || 'loading';\n  if(address){\n    val = (<div>Connected Wallet: {short_addr(address)}</div>);\n  }\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-12 text-center\">\n        <Container>\n        <Row>\n          <Col style={{flex:'0 1 20%'}} className=\"WalletStatusCol\">\n            <div className=\"col-6 p-4 text-center\">\n             <OverlayTrigger placement=\"bottom\" overlay={<Tooltip >{address}< /Tooltip>}>{val}</OverlayTrigger>\n            </div>\n          {/* Metamask network should be set to Localhost:8545. */}\n          {networkError && (\n            <NetworkErrorMessage \n              message={networkError} \n              dismiss={dismiss} \n            />\n          )}\n          </Col>\n          <Col style={{fontSize:'15px', flex:'0 1 20%'}} className=\"WalletStatusCol\">\n            <br />\n            <div>\n            Latest Block: {blockNumber}\n            </div>\n            <div>\n            Displayed Block: {cachedBlock}\n            </div>\n          </Col>\n        </Row>\n        </Container>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport BootstrapTable from 'react-bootstrap-table-next';\n\nexport function HelperNFT({ awardItem, address, data}) {\n  const rowStyle = (row, rowIndex) => {\n      let style = {fontWeight:'normal'};\n      if (row[\"to\"] == address){\n          style['fontWeight'] = 'bold';\n      }\n      return style;\n  };\n  return (\n    <div style={{textAlign:'left', width:'50%', padding:\"1%\"}} className='MainBodyElement'>\n      <h4>Generate a Sample Sacrificial NFT</h4>\n      <form\n      >\n        <div className=\"form-group\">\n          <input style={{background:'#008080', borderColor:'black'}} className=\"btn btn-primary\"\n            value=\"Mint NFT\" \n            type=\"button\"\n            onClick={(event) => {\n              if (address) {\n                awardItem(address);\n              }\n            }}\n          />\n        </div>\n      </form>\n      <br />\n      <h4>Sacrificial NFT Mints</h4>\n        <BootstrapTable classes=\"EventsTable\" keyField='tokenId' data={ data.rows } columns={ data.columns } style={{tableLayout:'auto', color:'blue'}} rowStyle={rowStyle}/>\n    </div>\n  );\n}\n","import React, {useState} from \"react\";\n\nexport function Login({ loginFunc }) {\n  const [password, setPassword] = useState('')\n  return (\n    <div style={{width:'10%', margin: '0 auto'}}>\n      <h4>Login BitVillains Beta</h4>\n      <form\n        onSubmit={(event) => {\n          loginFunc(password);\n        }}\n      >\n        <div className=\"form-group\">\n          <input className=\"form-control\" type=\"text\" name=\"password\" required\n          onChange={(event)=>{setPassword(event.target.value)}}\n          />\n          <br />\n          <input style={{background:'#008080', borderColor:'black'}} className=\"btn btn-primary\"\n            value=\"Login\" \n            type=\"button\"\n            onClick={(event) => {\n              loginFunc(password);\n            }}\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React, {useState, useRef, useEffect} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {draw_villain, short_addr} from \"../helper.js\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport './Dapp.css';\n\nconst IMG_SIZE = 384;\nconst ATTR_TABLE_COLUMNS = [\n    {'dataField': 'cat', 'text': 'Category'},\n    {'dataField': 's', 'text': 'Attribute'}\n];\nexport function Villain({villainData, pixelData, userAddress, tribulate, valhalla, pricing, categories}) {\n  let {vId} = useParams();\n  const [canvasRendered, setCanvasRendered] = useState(false);\n  const canvasRef = useRef();\n  const villain = villainData[vId];\n\n  function drawCanvas(){\n    const canvas = canvasRef.current;\n    if(canvas && !canvasRendered){\n        draw_villain(canvas.getContext('2d'), villain, pixelData, canvas.getContext(\"2d\").canvas.width/16);\n        setCanvasRendered(true);\n    }\n  }\n\n  useEffect(() =>{\n    drawCanvas();\n  });\n  const mainStyle ={width:IMG_SIZE*1.1, textAlign:'center'};\n  if(!villain){\n    return(<div style={mainStyle} className=\"MainBodyElement\">\n      <h4>Villain {vId} not found!</h4>\n    </div>);\n  }\n  const data = [];\n  for (var i=0; i<villain['attrs'].length; i++){\n    const attr = villain['attrs'][i];\n    const cat = categories[i];\n    let s = \"\";\n    for (const w of attr['name'].split(/(?=[A-Z])/))\n        s+=w+\" \";\n    data.push({cat, s});\n  }\n  console.log(data);\n  return (\n    <div style={mainStyle} className=\"MainBodyElement\">\n      <h4>Villain {vId}</h4>\n      <div><canvas height={IMG_SIZE} width={IMG_SIZE} ref={canvasRef} /></div>\n      <br />\n      <div>Owner: {short_addr(villain['owner'], 8)}</div>\n      <div>Sacrifice Contract Addr: {short_addr(villain['sacrificeAddr'])}</div>\n      <div>Sacrifice Id: {villain['sacrificeId']}</div>\n      <BootstrapTable keyField='cat' classes=\"EventsTable\" data={data} columns={ATTR_TABLE_COLUMNS} style={{tableLayout:'auto', color:'blue'}}/>\n      <div>Times Blessed: {villain['numBlessed']}</div>\n      <div>Times Punished: {villain['numPunished']}</div>\n      <br />\n      {villain['owner'] === userAddress &&\n          <div>\n          <div>\n          <input className=\"btn btn-primary\" type=\"button\" value={\"Tribulate for \"+pricing.tribulate+\" ETH\"}\n             onClick={()=>tribulate(vId)}/>\n        </div>\n          <br />\n          <div>\n          <input className=\"btn btn-primary\" type=\"button\" value={\"Valhalla for \"+pricing.valhalla+\" ETH\"}\n             onClick={()=>valhalla(vId, 0)}/>\n        </div>\n        <br />\n        </div>\n      }\n    </div>\n  );\n}\n","import React, {useState} from \"react\";\nimport { ethers } from \"ethers\";\nimport {Link} from \"react-router-dom\";\nimport \"./Dapp.css\";\nimport {short_addr} from \"../helper.js\";\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\n\nexport function RecruitMember({ recruitMember, isApproved, getApproval, pricing, defaultValue}) {\n  const [approved, setApproved] = useState(false);\n  const [state, setState] = useState({\n      sAddr: defaultValue,\n      sId: \"0\"\n  });\n  \n  function inputChanged(event){\n      const val = event.target.value\n      setState({\n        ...state,\n        [event.target.name]: val\n      });\n      let sAddr = state.sAddr;\n      let sId = state.sId;\n      if(event.target.name === 'sAddr')\n          sAddr = val;\n      else if(event.target.name === 'sId')\n          sId = val;\n      checkApproval(sAddr, sId);\n  }\n\n  function checkApproval(sAddr, sId){\n      if(ethers.utils.isAddress(sAddr) && sId != \"\"){\n          isApproved(sAddr, sId).then((result)=>{\n            setApproved(result != ethers.constants.AddressZero);\n          });\n      }\n\n  }\n\n  function recruitMemberClicked(event){\n      if (state.sAddr && state.sId) {\n        recruitMember(state.sAddr, state.sId).then((result)=>{\n      });\n      }\n    }\n  function getApprovalClicked(event){\n      if (state.sAddr && state.sId) {\n        getApproval(state.sAddr, state.sId).then((result)=>{\n            checkApproval(state.sAddr, state.sId);\n        });\n      }\n    }\n\n  const recruitText = \"Recruit Member with sacrifice \" + (state.sId ? state.sId : '?') + \" from \"+short_addr(state.sAddr);\n  const approvalText = \"Get Approval for \" + (state.sId ? state.sId : '?') + \" from \"+short_addr(state.sAddr);\n  return (\n    <div style={{textAlign:'left', width:'50%', padding:\"1%\"}} className=\"MainBodyElement\">\n      <h4>Recruit a New Bit Villain</h4>\n      <form\n      >\n        <p>\n        An NFT sacrifice is required to recruit a new bit villain. Even if a bit villain is sent to Valhalla, the sacrifice will remain locked up in perpetuity.\n        </p>\n        <p>\n         In the testnet environment, there is a <Link to=\"/helper\">sample NFT contract </Link>used to generate a new sacrificial NFT for recruitment. Once minted successfully, it appears in the \"Sacrificial NFT Mints\" table with the corresponding owner and generated sacrifice id.\n        <br />\n        <br />\n        The sample NFT contract (and like all ERC721 standard NFTs on ethereum) first requires an approval transaction to allow the BV contract to transfer the sacrifice id to itself. After the approval transaction is confirmed, the sacrifice can be used to recruit a new bit villain.\n        </p>\n        <div className=\"form-group\">\n          <label>Sacrifice Contract address (pre-populated with sample NFT)</label>\n          <input className=\"form-control\" type=\"text\" name=\"sAddr\" required\n            value={state.sAddr}\n            onChange={inputChanged}\n            disabled={true}\n          />\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <label>Sacrifice Id</label>\n          <input className=\"form-control\" type=\"number\" name=\"sId\" required onChange={inputChanged} value={state.sId}/>\n        </div>\n        <br />\n        {!approved &&\n        <div>\n        <div className=\"form-group\">\n          <input style={{background:'#008080', borderColor:'black'}} className=\"btn btn-primary\" type=\"button\" value={approvalText} disabled={approved}\n             onClick={getApprovalClicked}/>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <OverlayTrigger placement=\"top\" overlay={<Tooltip>Sacrifice needs approval before recruitment can occur< /Tooltip>}><div style={{opacity:'50%', background:'#008080', borderColor:'black'}} className=\"btn btn-primary\">{recruitText}</div></OverlayTrigger>\n        </div>\n        </div>\n        }\n        {approved &&\n        <div>\n        <div className=\"form-group\">\n          <OverlayTrigger placement=\"top\" overlay={<Tooltip >Sacrifice has already been approved< /Tooltip>}><div style={{opacity:'50%', background:'#008080', borderColor:'black'}} className=\"btn btn-primary\">{approvalText}</div></OverlayTrigger>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <input style={{background:'#008080', borderColor:'black'}} className=\"btn btn-primary\" type=\"button\" value={recruitText}\n             disabled={!approved}\n             onClick={recruitMemberClicked}/>\n        </div>\n        </div>\n        }\n      </form>\n    </div>\n  );\n}\n","import React, {useState} from \"react\";\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport {ButtonGroup, ToggleButton} from 'react-bootstrap';\nimport './Events.css';\nimport './Dapp.css';\n\nexport function Events({data}) {\n    const [radioValue, setRadioValue] = useState('recruits');\n    const radios = [\n        { name: 'Recruits', value: 'recruits' },\n        { name: 'Valhalla', value: 'valhallas' },\n        { name: 'Tribulations', value: 'tribulations' },\n    ];\n    const showData = data[radioValue];\n    return (\n        <div className='MainBodyElement' style={{width:'50%'}}>\n        <ButtonGroup className='EventsControlButton' toggle style={{width:'50%', margin:'auto', paddingLeft:'0%'}}>\n        {radios.map((radio, idx) => (\n          <ToggleButton\n            key={idx}\n            type=\"radio\"\n            variant=\"secondary\"\n            name=\"radio\"\n            value={radio.value}\n            checked={radioValue === radio.value}\n            onChange={(e) => setRadioValue(e.currentTarget.value)}\n          >\n            {radio.name}\n          </ToggleButton>\n        ))}\n        </ButtonGroup>\n        <BootstrapTable classes=\"EventsTable\" keyField='eventKey' data={ showData.rows } columns={ showData.columns } style={{tableLayout:'auto', color:'blue'}}/>\n        </div>\n    );\n}\n","import React from \"react\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport { Line } from 'react-chartjs-2';\n\n\nexport function BondingCurve({ awardItem, address, curves}) {\n  return (\n    <div style={{textAlign:'left', width:'50%', padding:\"1%\"}} className='MainBodyElement'>\n      <h4>Bonding Curve</h4>\n      <Line\n            data={{\n                labels: curves.recruit.map(x => x.numBVAlive),\n                datasets: [\n                    {\n                        data: curves.recruit.map(x => x.rp),\n                        label: \"Recruitment Price (ETH)\",\n                        borderColor: \"#008080\",\n                        fill:false\n                    },\n                    {\n                        data: curves.valhalla.map(x => x.vp),\n                        label: \"Valhalla Price (ETH)\",\n                        borderColor: \"#002080\",\n                        fill:false\n                    }\n                ]\n            }}\n            options={\n                {animation:{duration:0}, \n                tooltips: {enabled: false}, \n                hover: {mode: null},\n                plugins: {\n                    title:{display:false, text:'hi'}\n                },\n                scales: {\n                    y: {\n                        title: {\n                            display: true,\n                            text: 'Price (ETH)'\n                        }\n                    },\n                    x: {\n                        title: {\n                            display: true,\n                            text: 'Number of Alive BitVillains'\n                        }\n                    }\n                }\n            }}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\n\n// We'll use ethers to interact with the Ethereum network and our contract\nimport { ethers } from \"ethers\";\nimport bcrypt from 'bcryptjs';\n\n// We import the contract's artifacts and address here, as we are going to be\n// using them with ethers\nimport TokenArtifact from \"../contracts/Token.json\";\nimport AttributeArtifact from \"../contracts/Attribute.json\";\nimport AttributeManagerArtifact from \"../contracts/AttributeManager.json\";\nimport BVTest721Artifact from \"../contracts/BVTest721.json\";\nimport BVTest1155Artifact from \"../contracts/BVTest1155.json\";\nimport ERC721Artifact from \"../contracts/ERC721.json\";\nimport BitVillainsArtifact from \"../contracts/BitVillains.json\";\nimport tokenContractAddress from \"../contracts/contract-address.json\";\nimport contractAddresses from \"../contracts/addresses.json\";\nimport categoriesToAttributes from \"../categories.json\"\n\n// All the logic of this dapp is contained in the Dapp component.\n// These other components are just presentational ones: they don't have any\n// logic. They just render HTML.\nimport { NoWalletDetected } from \"./NoWalletDetected\";\nimport { WalletStatus } from \"./WalletStatus\";\nimport { Loading } from \"./Loading\";\nimport { Transfer } from \"./Transfer\";\nimport { HelperNFT } from \"./HelperNFT\";\nimport { Login } from \"./Login\";\nimport { Villain } from \"./Villain\";\nimport { RecruitMember } from \"./RecruitMember\";\nimport { Events } from \"./Events.js\";\nimport { BondingCurve } from \"./BondingCurve.js\";\nimport { TransactionErrorMessage } from \"./TransactionErrorMessage\";\nimport { WaitingForTransactionMessage } from \"./WaitingForTransactionMessage\";\nimport { NoTokensMessage } from \"./NoTokensMessage\";\nimport AttributePage from \"./AttributePage\";\nimport { Villains } from \"./Villains\";\nimport {Navbar, Nav, NavDropdown, Form, FormControl, Button, Card, CardDeck, Image} from 'react-bootstrap';\nimport {get_rgb, update_cache, short_addr} from \"../helper.js\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Dapp.css';\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useLocation\n} from \"react-router-dom\";\n\nconst PASSWORD = \"$2a$10$eRHp8Jx2EoWK5x4BUFB2iOBWijwXObljzA9ZyZoUutnFCfzl.2Ai.\"\n// This is the Hardhat Network id, you might change it in the hardhat.config.js\n// Here's a list of network ids https://docs.metamask.io/guide/ethereum-provider.html#properties\n// to use when deploying to other networks.\nconst HARDHAT_NETWORK_ID = '31337';\nconst ROPSTEN_NETWORK_ID = '3';\nconst MILLISECONDS_IN_SECOND = 1000;\n\n// This is an error code that indicates that the user canceled a transaction\nconst ERROR_CODE_TX_REJECTED_BY_USER = 4001;\nconst ERROR_CODE_SACRIFICE_ALREADY_APPROVED = -32603;\nconst CHAIN_ID_MAP = {1: 'Mainnet', 3: 'Ropsten'}\nconst CURRENT_CHAIN_ID = 3;\n\n// This component is in charge of doing these things:\n//   1. It connects to the user's wallet\n//   2. Initializes ethers and the Token contract\n//   3. Polls the user balance to keep it updated.\n//   4. Transfers tokens by sending transactions\n//   5. Renders the whole application\n//\n// Note that (3) and (4) are specific of this sample application, but they show\n// you how to keep your Dapp and contract's state in sync,  and how to send a\n// transaction.\n\nconst DYNAMIC_CACHE_VARIABLES = ['existingVillains', 'userVillains', 'attrData', 'pricing', 'cachedBlockNumber'];\nconst VALHALLA_COLUMNS = [\n    {'dataField': 'ownerShort', 'text': 'Owner', style: {}},\n    {'dataField': 'id', 'text': 'BV Id'},\n    {'dataField': 'priceReceived', 'text': 'Valhalla Price'},\n    {'dataField': 'nextRecruitPrice', 'text': 'Next Recruit Price'},\n    {'dataField': 'nextValhallaPrice', 'text': 'Next Valhalla Price'},\n    {'dataField': 'membersAlive', 'text': 'Members Alive'},\n    {'dataField': 'reserve', 'text': 'BV Reserve'}];\nconst RECRUITS_COLUMNS = [\n    {'dataField': 'toShort', 'text': 'Owner', style: {'width':'5px'}},\n    {'dataField': 'id', 'text': 'BV Id'},\n    {'dataField': 'pricePaid', 'text': 'Price Paid'},\n    {'dataField': 'nextPrintPrice', 'text': 'Next Print Price'},\n    {'dataField': 'nextBurnPrice', 'text': 'Next Burn Price'},\n    {'dataField': 'membersAlive', 'text': 'Members Alive'},\n    {'dataField': 'reserve', 'text': 'BV Reserve'}];\nconst TRIBULATIONS_COLUMNS = [\n    {'dataField': 'who_whort', 'text': 'Owner', style: {'width':'5px'}},\n    {'dataField': 'id', 'text': 'BV Id'},\n    {'dataField': 'isPunishment', 'text': 'Is Punishment'},\n    {'dataField': 'numPunished', 'text': 'Times Punished'},\n    {'dataField': 'numBlessed', 'text': 'Times Blessed'}];\nconst HELPERMINTS_COLUMNS = [\n    {'dataField': 'to', 'text': 'Owner', style: {'width':'5px'}},\n    {'dataField': 'tokenId', 'text': 'Token Id'}];\nlet attributesToCategories = {}\nfor (var key of Object.keys(categoriesToAttributes)) {\n    for (let i = 0; i < categoriesToAttributes[key].length; i++) {\n        attributesToCategories[categoriesToAttributes[key][i]] = key;\n    }\n}\n\nexport class Dapp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if(localStorage.getItem('contractAddress') != contractAddresses['BitVillains']){\n        localStorage.clear();\n        localStorage.setItem('contractAddress', contractAddresses['BitVillains']);\n    }\n\n    let pixelData = undefined;\n    const cachedPixelData = JSON.parse(localStorage.getItem(\"pixelData\"));\n\n    let isAuthenticated = false;\n    const storedPwd = localStorage.getItem(\"cachedPassword\");\n    if (storedPwd && bcrypt.compareSync(storedPwd, PASSWORD)){\n        isAuthenticated = true;\n    }\n    if(cachedPixelData && Object.keys(cachedPixelData) != 0)\n        pixelData = cachedPixelData;\n    // We store multiple things in Dapp's state.\n    // You don't need to follow this pattern, but it's an useful example.\n    this.initialState = {\n      // The info of the token (i.e. It's Name and symbol)\n      tokenData: undefined,\n      // The user's address and balance\n      selectedAddress: undefined,\n      balance: undefined,\n      // The ID about transactions being sent, and any possible error with them\n      txBeingSent: undefined,\n      transactionError: undefined,\n      networkError: undefined,\n      canvasRendered: false,\n      existingVillains:  [],\n      userVillains: {},\n      pixelData: pixelData,\n      events: {\n          valhallas: {'rows': [], 'columns': VALHALLA_COLUMNS},\n          recruits: {'rows': [], 'columns': RECRUITS_COLUMNS},\n          tribulations: {'rows': [], 'columns': TRIBULATIONS_COLUMNS},\n          helperMints: {'rows': [], 'columns': HELPERMINTS_COLUMNS}\n      },\n      statusData: {},\n      authenticated: isAuthenticated,\n      curves: {\n          recruit : [],\n          valhalla : []\n      }\n    };\n    for (const varName of DYNAMIC_CACHE_VARIABLES){\n        const cachedVal = JSON.parse(localStorage.getItem(varName));  \n        if (cachedVal)\n            this.initialState[varName] = cachedVal;\n    }\n    // cachedBlock is last time in current session block was updated (metadata)\n    // cachedBlockNumber is the actual value set in the dynamic data array\n    this.initialState.statusData.cachedBlock = this.initialState.cachedBlockNumber;\n    this.state = this.initialState;\n  }\n  componentDidMount() {\n    document.body.style.background = 'linear-gradient(0deg, rgba(0,128,128,1) 0%, rgba(0,32,128,1) 100%) fixed';\n    // We reset the dapp state if the network is changed\n    if (window.ethereum){\n        window.ethereum.on(\"chainChanged\", ([networkId]) => {\n          console.log('hi', networkId)\n          this.setState({networkId:networkId});\n          this._connectWallet();\n        });\n        this._connectWallet();\n    }\n  }\n\n  _authenticate(pwd){\n    /*var salt = bcrypt.genSaltSync(10);\n    var hash = bcrypt.hashSync(pwd, salt);\n    console.log(pwd);\n    console.log(hash);\n    */\n    if (bcrypt.compareSync(pwd, PASSWORD)){\n        console.log(\"AUTHENTICATED\");\n        this.setState({authenticated:true});\n        localStorage.setItem(\"cachedPassword\", pwd);\n    }\n  }\n\n  render() {\n    // Ethereum wallets inject the window.ethereum object. If it hasn't been\n    // injected, we instruct the user to install MetaMask.\n    if(!this.state.authenticated){\n      return <Login\n        loginFunc={(pwd) =>\n          this._authenticate(pwd)\n        }\n      />;\n    }\n    if (window.ethereum === undefined) {\n      return <NoWalletDetected />;\n    }\n    if(this.state.networkId !== CURRENT_CHAIN_ID){\n        return(\n        <div>\n        <h1> BitVillains </h1>\n        <p> Please connect to the correct network ({CHAIN_ID_MAP[CURRENT_CHAIN_ID]}) for access</p>\n        </div>);\n    }\n\n    // The next thing we need to do, is to ask the user to connect their wallet.\n    // When the wallet gets connected, we are going to save the users's address\n    // in the component's state. So, if it hasn't been saved yet, we have\n    // to show the WalletStatus component.\n    //\n    // Note that we pass it a callback that is going to be called when the user\n    // clicks a button. This callback just calls the _connectWallet method.\n    if (!this.state.selectedAddress) {\n      return (<div />);\n    }\n\n    // If the token data or the user's balance hasn't loaded yet, we show\n    // a loading component.\n\n    // If everything is loaded, we render the application.\n    return (\n      <Router basename=\"\">\n      <div style={{fontFamily:'PressStart2P', fontSize:'.8em'}}>\n        <Navbar expand=\"sm\" style={{background: 'rgba(0, 0, 0, .85)', color:'white'}}>\n          <Navbar.Brand href=\"#home\"><Image className=\"MainLogo d-inline-block align-top\" src={\"/images/logo1.png\"} /></Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mainNavBar\">\n              <Nav.Link as={Link} to=\"/index\">Home</Nav.Link>\n              <Nav.Link as={Link} to=\"/attributePool\">Attribute Pool</Nav.Link>\n              <Nav.Link as={Link} to=\"/recruitMember\">Recruit Bit Villain</Nav.Link>\n              <Nav.Link as={Link} to=\"/helper\">Helper NFT</Nav.Link>\n              <Nav.Link as={Link} to=\"/bitVillains\">Existing BVs</Nav.Link>\n              <Nav.Link as={Link} to=\"/userBitVillains\">My Bit Villains</Nav.Link>\n              <Nav.Link as={Link} to=\"/plunder\">Plunder</Nav.Link>\n              <Nav.Link as={Link} to=\"/events\">Blockchain Events</Nav.Link>\n              <Nav.Link as={Link} to=\"/bondingCurve\">Bonding Curve</Nav.Link>\n              {false &&\n              <NavDropdown title=\"Info\" id=\"basic-nav-dropdown\">\n                <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n                <NavDropdown.Divider />\n                <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\n              </NavDropdown>}\n            </Nav>\n            <WalletStatus \n              address={this.state.selectedAddress}\n              statusData={this.state.statusData}\n              connectWallet={() => this._connectWallet()} \n              networkError={this.state.networkError}\n              dismiss={() => this._dismissNetworkError()}\n            />\n          </Navbar.Collapse>\n        </Navbar>\n        <div id=\"colorBar\" />\n        <br />\n\n      <Switch>\n      <Route path=\"/attributePool\">\n        <AttributePage pixelData={this.state.pixelData} attrData={this.state.attrData} />\n      </Route>\n      <Route path=\"/bitVillains\">\n      <Villains pixelData={this.state.pixelData} villains={this.state.existingVillains} />\n      </Route>\n      <Route path=\"/plunder\">\n      <Villains pixelData={this.state.pixelData} villains={this.state.existingVillains}  isPlunder={true}/>\n      </Route>\n      <Route path=\"/userBitVillains\">\n      <Villains pixelData={this.state.pixelData} villains={this.state.userVillains[this.state.selectedAddress]?? []}/>\n      </Route>\n      <Route path='/helper'>\n          <HelperNFT\n            awardItem={(address) =>\n              this._awardItem(address)\n            }\n            address={this.state.selectedAddress}\n            data={this.state.events.helperMints}\n          />\n      </Route>\n      <Route path='/bondingCurve'>\n          <BondingCurve\n            villains={this.state.existingVillains}\n            curves={this.state.curves}\n          />\n      </Route>\n      <Route path='/recruitMember'>\n          <RecruitMember\n            recruitMember={(sAddr, sId) =>\n              this._recruitMember(sAddr, sId)\n            }\n            isApproved={(nftContractAddr, sId) =>\n              this._isApproved(nftContractAddr, sId)\n            }\n            getApproval={(sAddr, sId) =>\n              this._getApproval(sAddr, sId)\n            }\n            pricing={this.state.pricing}\n            defaultValue={contractAddresses['BVTest721']}\n          />\n      </Route>\n      <Route exact path=\"/\">\n        <Redirect to=\"/index\" />\n      </Route>\n      <Route path=\"/index\">\n          <div className='MainBodyElement' style={{width:'50%', padding:\"1%\"}}>\n        Unique digital art collectibles with every bit stored immutably on the Ethereum blockchain. No third party image hosting or unstable IFPS binning needed. These are BitVillains.\n        <br /><br />\n        The most villainous NFTs are born of the most nefarious origins. Though BitVillains are priced on a <Link to=\"/bondingCurve\">Bonding Curve</Link>, minting a BitVillain also requires a sacrifice: an NFT, to be permanently burned - its destruction forever associated with the birth of your BitVillain and stored in a shared <Link to=\"/plunder\">Plunder</Link> display. \n        <br /><br />\n        In addition to an epitaph of this sacrificial NFT, every BitVillain is randomly assigned an attribute <Link to=\"/attributePool\">Attribute Pool</Link> from the attribute pool in each of five categories: Background, Skin, Hair, Outfit, and Accessory.\n        <br /><br />\n        A BitVillain may irreversibly enter the halls of Valhalla and its attributes returned back to the Attribute Pool. A reward of 80% of the second most recuritment price is offered to whom guides a BV through this infamous process.\n        <br /><br />\n        Finally, a BillainVillain can undergo a tribulation costing 1/2 the reward amount by being sent to Valhalla. This tribulation journey can either result in a punishment or blessing.\n        <br /><br />\n        <Link to=\"/recruitMember\">Recruit a BitVillain now</Link>\n          </div>\n      </Route>\n      <Route path=\"/events\">\n        <Events \n            data={this.state.events}\n        />\n      </Route>\n      <Route path=\"/villain/:vId\" children={<Villain villainData={this.state.existingVillains} pixelData={this.state.pixelData} userAddress={this.state.selectedAddress} categories={Object.keys(categoriesToAttributes)}\n            tribulate={(memberId) =>\n              this._tribulate(memberId)\n            }\n            valhalla={(memberId, minAmt) =>\n              this._valhalla(memberId, minAmt)\n            }\n            pricing={this.state.pricing} />} />\n      <Route path='*'><div className=\"MainBodyElement\" style={{width:\"10%\", textAlign:'center'}}><h1>404</h1>Are you lost?</div></Route>\n      </Switch>\n      </div>\n      <ToastContainer position=\"bottom-right\" />\n      </Router>\n    );\n  }\n\n  componentWillUnmount() {\n    // We poll the user's balance, so we have to stop doing that when Dapp\n    // gets unmounted\n    this._stopPollingData();\n  }\n  makeContract(addr, contractArtifact){\n    return new ethers.Contract(\n      addr,\n      contractArtifact.abi,\n      this._provider.getSigner(0)\n    );\n}\n  async _connectWallet() {\n    // This method is run when the user clicks the Connect. It connects the\n    // dapp to the user's wallet, and initializes it.\n\n    // To connect to the user's wallet, we have to run this method.\n    // It returns a promise that will resolve to the user's address.\n    const [selectedAddress] = await window.ethereum.request({ method: 'eth_requestAccounts' });\n\n    // Once we have the address, we can initialize the application.\n\n    // First we check the network\n    if (!this._checkNetwork()) {\n      return;\n    }\n    this._provider = new ethers.providers.Web3Provider(window.ethereum);\n    this._helperContracts = this._getHelperContracts();\n    this._setupContractData();\n    this._bvContract = this.makeContract(contractAddresses['BitVillains'], BitVillainsArtifact);\n    this._initialize(selectedAddress);\n    // We first initialize ethers by creating a provider using window.ethereum\n    this._provider.on(\"pending\", (tx) =>{\n        console.log('pending');\n        console.log(tx);\n    });\n    this._provider.on(\"block\", (blockNumber) => {\n        this.setState(prevState => update_cache('currentBlock', blockNumber, prevState));\n    })\n    this._getPixelData().then((pixelData)=>{;\n    // TODO this should be cleared up beacuse of the copy paste code. we should parse events in one function somewhow\n    this._helperContracts['erc721'].on(\"Transfer\", (from, to, tokenId) =>{\n        if (ethers.constants.AddressZero == from){\n            tokenId = parseInt(tokenId);\n            console.log('erc71 sample mint: ', to, tokenId);\n            let helperMints = this.state.events.helperMints;\n            helperMints['rows'].push({to, tokenId});\n            this.setState({helperMints});\n        }\n    })\n    this._bvContract.on(\"MemberRecruited\", (to, id, pricePaid, nextPrintPrice, nextBurnPrice, membersAlive, reserve) => {\n        const eventKey = `${to} ${id} ${pricePaid} ${nextPrintPrice} ${nextBurnPrice} ${membersAlive} ${reserve}`;\n        let recruits = this.state.events.recruits;\n        to = ethers.utils.getAddress(to);\n        const toShort = short_addr(to);\n        id = parseInt(id);\n        pricePaid = ethers.utils.formatEther(parseInt(pricePaid).toString());\n        nextPrintPrice = ethers.utils.formatEther(parseInt(nextPrintPrice).toString());\n        nextBurnPrice = ethers.utils.formatEther(parseInt(nextBurnPrice).toString());\n        membersAlive = parseInt(membersAlive);\n        reserve = ethers.utils.formatEther(parseInt(reserve).toString());\n        this._memberToRecruitedMap[id] = {'to': to, 'id': id, 'pricePaid': pricePaid, 'nextBurnPrice': nextBurnPrice};\n        recruits['rows'].push({to, id, pricePaid, nextPrintPrice, nextBurnPrice, membersAlive, reserve, eventKey, toShort});\n        this.setState({recruits});\n    });\n    this._bvContract.on(\"MemberToValhalla\", (owner, id, priceReceived, nextRecruitPrice, nextValhallaPrice, membersAlive, reserve) => {\n        const eventKey = `${owner} ${id} ${priceReceived} ${nextRecruitPrice} ${nextValhallaPrice} ${membersAlive} ${reserve}`;\n        const ownerShort = short_addr(owner);\n        id = parseInt(id);\n        priceReceived = ethers.utils.formatEther(parseInt(priceReceived).toString());\n        nextRecruitPrice = ethers.utils.formatEther(parseInt(nextRecruitPrice).toString());\n        nextValhallaPrice = ethers.utils.formatEther(parseInt(nextValhallaPrice).toString());\n        membersAlive = parseInt(membersAlive);\n        reserve = ethers.utils.formatEther(parseInt(reserve).toString());\n        let valhallas = this.state.events.valhallas;\n        valhallas['rows'].push({owner, id, priceReceived, nextRecruitPrice, nextValhallaPrice, membersAlive, reserve, ownerShort});\n        this._memberToRecruitedMap[id] = {'to': 'valhalla'};\n        this.setState({valhallas});\n    });\n    this._bvContract.on(\"Tribulation\", (who, id, isPunishment, numPunished, numBlessed) => {\n        const eventKey = `${who} ${id} ${isPunishment} ${numPunished} ${numBlessed}`;\n        who = ethers.utils.getAddress(who);\n        const whoShort = short_addr(who);\n        id = parseInt(id);\n        numPunished = parseInt(numPunished).toString();\n        numBlessed = parseInt(numBlessed).toString();\n        let tribulations = this.state.events.tribulations;\n        tribulations['rows'].push({who, id, isPunishment, numPunished, numBlessed, eventKey, whoShort});\n        this.setState({tribulations});\n    });\n    if(!this.state.pixelData){\n      localStorage.setItem(\"pixelData\", JSON.stringify(pixelData));\n      this.setState({pixelData});\n    }\n    });\n    const curves = { ...this.state.curves };\n    for(var numBVAlive=0;numBVAlive<1000;numBVAlive++){\n        // const rp = await this._bvContract.getRecruitPrice(numBVAlive);\n        // const rp = .01 * Math.pow(2, numBVAlive);\n        const rp = .01 * (numBVAlive + 1);\n        const vp = Math.max(.01 * (numBVAlive) * 0.8, 0);\n        curves.recruit.push({numBVAlive, rp});\n        curves.valhalla.push({numBVAlive, vp});\n    }\n    this.setState({curves});\n    this._updateDynamicData(selectedAddress);\n    this._updateDynamicDataInterval = setInterval(() => this._updateDynamicData(selectedAddress), MILLISECONDS_IN_SECOND * 30);\n\n    // We reinitialize it whenever the user changes their account.\n    window.ethereum.on(\"accountsChanged\", ([newAddress]) => {\n      this._stopPollingData();\n      // `accountsChanged` event can be triggered with an undefined newAddress.\n      // This happens when the user removes the Dapp from the \"Connected\n      // list of sites allowed access to your addresses\" (Metamask > Settings > Connections)\n      // To avoid errors, we reset the dapp state \n      if (newAddress === undefined) {\n        return this._resetState();\n      }\n      \n      this._initialize(newAddress);\n    });\n  }\n\n  _initialize(userAddress) {\n    // This method initializes the dapp\n\n    // We first store the user's address in the component's state\n    this.setState({\n      selectedAddress: ethers.utils.getAddress(userAddress),\n    });\n\n    // Fetching the token data and the user's balance are specific to this\n    // sample project, but you can reuse the same initialization pattern.\n    this._intializeEthers();\n  }\n\n  async _intializeEthers() {\n    \n\n    // When, we initialize the contract using that provider and the token's\n    // artifact. You can do this same thing with your contracts.\n    this._token = new ethers.Contract(\n      tokenContractAddress.Token,\n      TokenArtifact.abi,\n      this._provider.getSigner(0)\n    );\n\n    this._memberToRecruitedMap = {}\n    let events = {...this.state.events};\n    events.recruits['rows'] = [];\n    events.valhallas['rows'] = [];\n    events.tribulations['rows'] = [];\n    events.helperMints['rows'] = [];\n    let eventResults = await this._helperContracts['erc721'].queryFilter(this._helperContracts['erc721'].filters.Transfer());\n    for(const event of eventResults){\n        let [from, to, tokenId] = event.args;\n        if (ethers.constants.AddressZero == from){\n            tokenId = parseInt(tokenId);\n            events.helperMints['rows'].push({to, tokenId});\n        }\n    }\n    eventResults = await this._bvContract.queryFilter(this._bvContract.filters.MemberRecruited());\n    for(const event of eventResults){\n        const eventKey = `${event.args}`;\n        let [to, id, pricePaid, nextPrintPrice, nextBurnPrice, membersAlive, reserve] = event.args;\n        to = ethers.utils.getAddress(to);\n        const toShort = short_addr(to);\n        id = parseInt(id);\n        pricePaid = ethers.utils.formatEther(parseInt(pricePaid).toString());\n        nextPrintPrice = ethers.utils.formatEther(parseInt(nextPrintPrice).toString());\n        nextBurnPrice = ethers.utils.formatEther(parseInt(nextBurnPrice).toString());\n        membersAlive = parseInt(membersAlive);\n        reserve = ethers.utils.formatEther(parseInt(reserve).toString());\n        this._memberToRecruitedMap[id] = {'to': to, 'id': id, 'pricePaid': pricePaid, 'nextBurnPrice': nextBurnPrice};\n        events.recruits['rows'].push({to, id, pricePaid, nextPrintPrice, nextBurnPrice, membersAlive, reserve, eventKey, toShort});\n    }\n    eventResults = await this._bvContract.queryFilter(this._bvContract.filters.MemberToValhalla());\n    for(const event of eventResults){\n        const eventKey = `${event.args}`;\n        let [owner, id, priceReceived, nextRecruitPrice, nextValhallaPrice, membersAlive, reserve] = event.args;\n        const ownerShort = short_addr(owner);\n        id = parseInt(id);\n        priceReceived = ethers.utils.formatEther(parseInt(priceReceived).toString());\n        nextRecruitPrice = ethers.utils.formatEther(parseInt(nextRecruitPrice).toString());\n        nextValhallaPrice = ethers.utils.formatEther(parseInt(nextValhallaPrice).toString());\n        membersAlive = parseInt(membersAlive);\n        reserve = ethers.utils.formatEther(parseInt(reserve).toString());\n        events.valhallas['rows'].push({owner, id, priceReceived, nextRecruitPrice, nextValhallaPrice, membersAlive, reserve, eventKey, ownerShort})\n        this._memberToRecruitedMap[id] = {'to': 'valhalla'}\n    }\n    eventResults = await this._bvContract.queryFilter(this._bvContract.filters.Tribulation());\n    for(const event of eventResults){\n        const eventKey = `${event.args}`;\n        let [who, id, isPunishment, numPunished, numBlessed] = event.args;\n        who = ethers.utils.getAddress(who);\n        const whoShort = short_addr(who);\n        id = parseInt(id);\n        numPunished = parseInt(numPunished).toString();\n        numBlessed = parseInt(numBlessed).toString();\n        events.tribulations['rows'].push({who, id, isPunishment, numPunished, numBlessed, eventKey, whoShort})\n    }\n    this.setState(events)\n\n  }\n\n  // The next to methods are needed to start and stop polling data. While\n  // the data being polled here is specific to this example, you can use this\n  // pattern to read any data from your contracts.\n  //\n  // Note that if you don't need it to update in near real time, you probably\n  // don't need to poll it. If that's the case, you can just fetch it when you\n  // initialize the app, as we do with the token data.\n  _startPollingData() {\n    this._pollDataInterval = setInterval(() => this._updateBalance(), 1000);\n\n    // We run it once immediately so we don't have to wait for it\n    this._updateBalance();\n  }\n\n  _stopPollingData() {\n    clearInterval(this._pollDataInterval);\n    this._pollDataInterval = undefined;\n  }\n\n  // The next two methods just read from the contract and store the results\n  // in the component state.\n  async _getTokenData() {\n    const name = await this._token.name();\n    const symbol = await this._token.symbol();\n\n    this.setState({ tokenData: { name, symbol } });\n  }\n\n  async _updateBalance() {\n    if(this.state.selectedAddress) {\n        const balance = await this._token.balanceOf(this.state.selectedAddress);\n        this.setState({ balance });\n    }\n  }\n\n  _getHelperContracts() {\n    let helperContracts = {};\n    helperContracts['erc721'] = this.makeContract(contractAddresses['BVTest721'], BVTest721Artifact);\n    helperContracts['erc1155'] = this.makeContract(contractAddresses['BVTest1155'], BVTest1155Artifact);\n    return helperContracts;\n  }\n\n  _setupContractData(){\n    let attrContracts = {};\n    for (var key of Object.keys(contractAddresses['Attribute'])) {\n        let addr = contractAddresses['Attribute'][key];\n        const contract = new ethers.Contract(\n          addr,\n          AttributeArtifact.abi,\n          this._provider.getSigner(0)\n        );\n        attrContracts[key] = contract;\n        attrContracts[addr] = contract;\n    }\n    this._attrContracts = attrContracts;\n    let attrManContracts = {}\n    for (var key of Object.keys(contractAddresses['AttributeManager'])) {\n        let addr = contractAddresses['AttributeManager'][key];\n        attrManContracts[key] = new ethers.Contract(\n          addr,\n          AttributeManagerArtifact.abi,\n          this._provider.getSigner(0)\n        );\n        let manAttrs = []\n        let idx = 0;\n    }\n    this._attrManContracts = attrManContracts;\n  }\n\n  async _getPixelData() {\n    let pixelData = {};\n    for (var key of Object.keys(contractAddresses['Attribute'])) {\n        if(!this.state.pixelData)\n            pixelData[key] = {\n                'pixels': await this._attrContracts[key].getPixels(),\n                'useMap': await this._attrContracts[key].getPixelMap()\n            };\n    }\n    return pixelData;\n  }\n  async _updateDynamicData(userAddress) {\n    try{\n        let data = {};\n        data['attrData'] = {};\n        for (var key of Object.keys(contractAddresses['AttributeManager'])) {\n            let addr = contractAddresses['AttributeManager'][key];\n            let attrs = categoriesToAttributes[key];\n            for (var i =0; i < attrs.length; i++){\n                let addr = await this._attrManContracts[key].m_attrs(i);\n                let size = await this._attrManContracts[key].m_sizes(i);\n                let oSize = await this._attrManContracts[key].m_sizes_original(i);\n                let contract = this._attrContracts[addr];\n                let name = await contract.name();\n                data['attrData'][name] = {};\n                data['attrData'][name]['remainingGenePool'] = parseInt(size['_hex']);\n                data['attrData'][name]['initialGenePool'] = parseInt(oSize['_hex']);\n                data['attrData'][name]['category'] = attributesToCategories[attrs[i]];\n            }\n        }\n        data['existingVillains'] = [];\n        data['userVillains'] = {};\n        const numVillains = 10000;\n        var i = 0;\n        for (i = 0; i < numVillains; i++){\n            let attrs = await this._bvContract.getMemberAttributes(i);\n            if (attrs.length < 1)\n                break;\n            let villain = {}\n            villain['attrs'] = [];\n            for (var j = 0; j < attrs.length; j++){\n                const attr = this._attrContracts[attrs[j]];\n                villain['attrs'].push({'name': await attr.name()});\n            }\n            let owner;\n            try{\n                // owner = await this._bvContract.ownerOf(i);\n                owner = this._memberToRecruitedMap[i].to;\n                // await this._bvContract.balanceOf(userAddress);\n            } catch (error){\n            }\n            villain['owner'] = owner;\n            const attrMap = await this._bvContract.m_attrMap(i);\n            let [sacrificeAddr, sacrificeId] = await this._bvContract.m_sacrificeMap(i);\n            sacrificeId = parseInt(sacrificeId);\n            villain['numBlessed'] = attrMap.numBlessed;\n            villain['numPunished'] = attrMap.numPunished;\n            villain['id'] = i;\n            villain['sacrificeAddr'] = sacrificeAddr;\n            villain['sacrificeId'] = sacrificeId;\n            data['existingVillains'].push(villain);\n            if(!(owner in data['userVillains']))\n                data['userVillains'][owner] = [];\n            data['userVillains'][owner].push(villain);\n        }\n        data['pricing'] = {};\n        let vp = await this._bvContract.getValhallaPrice();\n        let tp = await this._bvContract.getPunishedBlessedPrice();\n        // let rp = await this._bvContract.getRecruitPrice(i);\n        data['pricing']['valhalla'] = ethers.utils.formatEther(parseInt(vp['_hex']).toString());\n        data['pricing']['tribulate'] = ethers.utils.formatEther(parseInt(tp['_hex']).toString());\n        // data['pricing']['recruit'] = ethers.utils.formatEther(parseInt(rp['_hex']).toString());\n        data['cachedBlockNumber'] = await this._provider.getBlockNumber();\n        this.setState(prevState => update_cache('cachedBlock', data['cachedBlockNumber'], prevState));\n\n        this.setState(data);\n        for (var key of Object.keys(data)){\n            localStorage.setItem(key, JSON.stringify(data[key]));\n        }\n    } catch(error){\n        console.log(error)\n        console.log('caught error while updating dynamic data');\n    }\n  }\n\n  _setCurrentUserVillains(){\n    const ev = this.state.data['existingVillains'];\n    for(var i=0; i<ev.length; i++){\n\n    }\n\n  }\n\n  async _isApproved(nftContractAddr, sId){\n    try {\n        const nftContract =  this.makeContract(nftContractAddr, ERC721Artifact);\n        return await nftContract.getApproved(sId);\n    } catch (error){\n        return false;\n    }\n  }\n\n  async _awardItem(to) {\n    this._dismissTransactionError();\n    await this._sendTx(this._helperContracts['erc721'].awardItem, to);\n  }\n\n  async _getApproval(sAddr, sId){\n    this._dismissTransactionError();\n    await this._sendTx(this._helperContracts['erc721'].approve, this._bvContract.address, sId);\n  }\n\n  async _recruitMember(sAddr, sId) {\n    this._dismissTransactionError();\n    return await this._sendTx(this._bvContract.recruitMemberWith721, sAddr, sId, {value:ethers.utils.parseEther(\"0.5\")});\n  }\n\n  async _tribulate(memberId) {\n    this._dismissTransactionError();\n    return await this._sendTx(this._bvContract.tribulate, memberId, {value:ethers.utils.parseEther(this.state.pricing['tribulate'])});\n  }\n\n  async _valhalla(memberId, minAmt) {\n    this._dismissTransactionError();\n    return await this._sendTx(this._bvContract.valhalla, memberId, minAmt);\n  }\n\n  async _sendTx(func, ...args){\n    try {\n      const tx = await func(...args);\n      this.setState({ txBeingSent: tx.hash });\n      toast.success(\"Transaction submited! Follow its progress with your wallet\");\n      const receipt = await tx.wait();\n\n      if (receipt.status === 0) {\n        throw new Error(\"Transaction failed\");\n      }\n      toast.success(\"Transaction mined! Block Number: \" + receipt.blockNumber);\n      await this._updateDynamicData(this.state.selectedAddress);\n\n      await this._updateBalance();\n    } catch (error) {\n      if (error.code === ERROR_CODE_TX_REJECTED_BY_USER) {\n        toast.error(\"Transaction was defined rejected by your wallet, please try again.\")\n      }\n      else if (error.code === -32603) {\n        toast.error(\"Transaction failed due to initial gas issue\");\n      }\n      else if (error.code === \"CALL_EXCEPTION\") {\n        toast.error(\"Transaction failed due to call exception, please check your gas limit and try again\");\n      }\n      else if (error.error.code === -32603) {\n        toast.error(error.error.message)\n      }\n\n      this.setState({ transactionError: error });\n    } finally {\n      this.setState({ txBeingSent: undefined });\n    }\n  }\n\n  // This method just clears part of the state.\n  _dismissTransactionError() {\n    this.setState({ transactionError: undefined });\n  }\n\n  // This method just clears part of the state.\n  _dismissNetworkError() {\n    this.setState({ networkError: undefined });\n  }\n\n  // This is an utility method that turns an RPC error into a human readable\n  // message.\n  _getRpcErrorMessage(error) {\n    if (error.data) {\n      return error.data.message;\n    }\n\n    return error.message;\n  }\n\n  // This method resets the state\n  _resetState() {\n    this.setState(this.initialState);\n  }\n\n  // This method checks if Metamask selected network is Localhost:8545 \n  _checkNetwork() {\n    let ret = false;\n    const networkId = parseInt(window.ethereum.networkVersion);\n    if ( networkId === CURRENT_CHAIN_ID) {\n      ret = true;\n      this._dismissNetworkError();\n    }\n    this.setState({ \n      networkId: networkId\n    });\n    if(!ret){\n        this.setState({ \n          networkError: 'Please connect Metamask to Hardhat or Ropsten network',\n        });\n    }\n\n    return ret;\n  }\n}\n","import React from \"react\";\nimport contractAddresses from \"../contracts/addresses.json\";\nimport categoriesToAttributes from \"../categories.json\"\n// We'll use ethers to interact with the Ethereum network and our contract\nimport { ethers } from \"ethers\";\nimport {Navbar, Nav, NavDropdown, Form, FormControl, Button, Card, CardDeck} from 'react-bootstrap';\nimport {get_rgb} from \"../helper.js\";\nimport './Dapp.css';\n\nconst queryString = require('query-string');\nconst ATTRIBUTE_CATEGORIES = Object.keys(contractAddresses['Attribute']);\nclass AttributePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initialState = {\n        canvasRendered : false,\n        attrFilter: 'all'\n    }\n\n    this.state = this.initialState;\n    this.init();\n  }\n\n  init(){\n    for (var key of Object.keys(contractAddresses['Attribute'])) {\n        this[`ref_${key}`] = React.createRef();\n    }\n\n  }\n\n  componentDidMount() {\n    this.drawCanvas();\n  }\n\n  componentDidUpdate() {\n    this.drawCanvas();\n  }\n\n  drawCanvas() {\n    if (!this.props.pixelData || this.state.canvasRendered)\n        return;\n    for (var key of ATTRIBUTE_CATEGORIES) {\n        const canvas = this[`ref_${key}`].current;\n        if (!!canvas)\n        {\n            const ctx = canvas.getContext(\"2d\");\n            let size = 16;\n            let xFactor = ctx.canvas.width/16;\n            let yFactor = ctx.canvas.height/16;\n            let pixels = this.props.pixelData[key]['pixels'];\n            let invert = false;\n            if(key.includes('White'))\n                invert = true;\n            for (var i = 0;i < pixels.length; i++)\n            {\n                var y = parseInt(i/16) * yFactor;\n                var x = (i % 16) * xFactor;\n                let draw = false;\n                if(this.props.pixelData[key]['useMap'][i])\n                    draw = true;\n                if(draw){\n                    let rgb = get_rgb(pixels[i]);\n                    ctx.fillStyle = `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`;\n                    ctx.fillRect(x,y, xFactor, yFactor);\n                }\n                else if(invert){\n                    ctx.fillStyle = `rgb(0, 0, 0)`;\n                    ctx.fillRect(x,y, xFactor, yFactor);\n                }\n            }\n            this.setState({canvasRendered:true});\n        }\n    }\n  }\n\n  renderAttributeGrid() {\n\n    const els = [];\n    for (var key of Object.keys(contractAddresses['Attribute'])) {\n        let remaining = 'loading';\n        let initial = 'loading';\n       var category;\n       const style ={textAlign:'center', minWidth: \"10rem\", maxWidth: \"10rem\", borderColor:'#008080', marginBottom: '1%', marginRight:'1%'};\n       if (this.props.attrData){\n            let attrData = this.props.attrData[key];\n            if (attrData){\n                remaining = attrData['remainingGenePool'];\n                initial = attrData['initialGenePool'];\n                category = attrData['category'];\n            }\n        }\n        if (this.state.attrFilter!=='all' && this.state.attrFilter!==category){\n            style['display'] = 'none';\n        }\n        els.push(<Card key={key} style={style}><Card.Body><Card.Title style={{fontSize:'.9em'}}>{key.replace(/([A-Z])/g, ' $1')}</Card.Title><canvas width='128px' height='128px' style={{margin:'0', padding:'0', width:'100%'}} ref={this[`ref_${key}`]}/><Card.Text>{remaining}/{initial}</Card.Text></Card.Body></Card>);\n    }\n        return (\n            <CardDeck style={{display:'flex', flexWrap:'wrap', width:'100%'}}>\n            {els}\n            </CardDeck>\n        );\n    }\n\n  onChangeFilter(e){\n    this.setState({attrFilter:e.target.value})\n    this.drawCanvas();\n  }\n\n\n  render() {\n    return (\n       <div style={{width:'50%', margin: 'auto'}}>\n       <div>\n       <div style={{borderRadius:'5px', padding:'5px', background:'#D2D2D2', display:'inline-block'}}>\n        Attribute Filter: {\" \"}\n       <select onChange={this.onChangeFilter.bind(this)} style={{margin: '0 auto'}}>\n        {['all'].concat(Object.keys(categoriesToAttributes)).map(num => <option value={num} key={num}>{num}</option>)}\n        </select>\n        </div>\n        </div>\n        <br />\n        {this.renderAttributeGrid()}\n        </div>\n    );\n  }\n}\n\nexport default AttributePage;\n","import React from \"react\";\n\nimport {Card, CardDeck, Tooltip, OverlayTrigger} from 'react-bootstrap';\nimport {draw_villain} from \"../helper.js\";\nimport { Link } from \"react-router-dom\";\nimport { ethers } from \"ethers\";\n\nconst MAX_VILLAINS = 100;\n\nexport class Villains extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initialState = {\n        canvasRendered : false\n    }\n\n    this.state = this.initialState;\n    for (var i = 0;i < MAX_VILLAINS; i++) {\n        this[`ref_${i}`] = React.createRef();\n    }\n  }\n\n  componentDidUpdate() {\n    this.drawCanvas(true);\n  }\n\n  componentDidMount() {\n    this.drawCanvas();\n  }\n\n  drawCanvas(force=false){\n    if (!this.props.pixelData || (!force && this.state.canvasRendered))\n        return;\n    for (let i = 0;i < this.props.villains.length; i++) {\n        const canvas = this[`ref_${i}`].current;\n        if (!!canvas && this.props.pixelData)\n        {\n            const ctx = canvas.getContext(\"2d\");\n            const villain = this.props.villains[i];\n            // assume square canvas!\n            draw_villain(ctx, villain, this.props.pixelData, ctx.canvas.width/16);\n            if(!this.state.canvasRendered)\n                this.setState({canvasRendered:true});\n        }\n    }\n  }\n\n  renderVillainGrid() {\n    const renderTooltip = props => (\n        <Tooltip {...props}>Genesis BV</Tooltip>\n    );\n    const els = [];\n    for (let i = 0 ;i < this.props.villains.length; i++) {\n        let style = {minWidth: \"10rem\", maxWidth: \"10rem\"}\n        style['backgroundColor'] = 'white';\n        style['borderColor'] = '#008080';\n        style['borderWidth'] = '2px';\n        style['marginBottom'] = '1%';\n        style['marginRight'] = '1%';\n        const v = this.props.villains[i];\n        let showToolTip = false;\n        if(!this.props.isPlunder){\n            let titleDiv = <div> BV {v.id} </div>;\n            if (v.owner === 'valhalla'){\n                style['backgroundColor'] = 'grey';\n                showToolTip = true;\n                titleDiv = <OverlayTrigger placement=\"top\" overlay={<Tooltip>In Valhalla< /Tooltip>}>{titleDiv}</OverlayTrigger>;\n            }\n            else if (v.sacrificeAddr === ethers.constants.AddressZero){\n                style['backgroundColor'] = 'yellow';\n                showToolTip = true;\n                titleDiv = <OverlayTrigger placement=\"top\" overlay={<Tooltip>Genesis BV< /Tooltip>}>{titleDiv}</OverlayTrigger>;\n            }\n            els.push(\n                    <Card key={i} style={style}>\n                    <Card.Body>\n                    <Card.Title>\n                    {titleDiv}\n                    </Card.Title>\n                    <canvas width='128px' height='128px' style={{width:'100%'}} ref={this[`ref_${i}`]}/>\n                    <Card.Text>\n                    </Card.Text>\n                    <Link to={'/villain/' + v.id}>Details</Link>\n                    </Card.Body>\n                    </Card>);\n        }\n        else{\n            if (ethers.constants.AddressZero == v.sacrificeAddr)\n                continue;\n            style['minWidth'] = '16rem';\n            style['maxWidth'] = '16rem';\n            els.push(\n                    <Card key={i} style={style}>\n                    <Card.Body>\n                    <Card.Title>\n                        Sacrifice {v.id}\n                    </Card.Title>\n                    <Card.Text>\n                    Sacrifice Address: {v.sacrificeAddr}<br /><br />\n                    Sacrifice Id: {v.sacrificeId}<br />\n                    </Card.Text>\n                    </Card.Body>\n                    </Card>);\n        }\n    }\n        return (\n            <CardDeck style={{display:'flex', flexWrap:'wrap'}}>\n            {els}\n            </CardDeck>\n        );\n    }\n\n  render() {\n    return (\n       <div style={{width:'80%', margin: '0 auto'}}>\n        {this.renderVillainGrid()}\n        </div>\n    );\n  }\n\n}\n","export default __webpack_public_path__ + \"static/media/dotboundary-fixed.bc51fc31.otf\";","export default __webpack_public_path__ + \"static/media/PressStart2P.2ebf1a35.ttf\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Dapp } from \"./components/Dapp\";\n\n// We import bootstrap here, but you can remove if you want\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./fonts/DotBoundary/dotboundary-fixed.otf\";\nimport \"./fonts/PressStart2P.ttf\";\nimport './index.css';\n\n// This is the entry point of your application, but it just renders the Dapp\n// react component. All of the logic is contained in it.\n\nReactDOM.render(\n  <React.StrictMode>\n    <Dapp />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}